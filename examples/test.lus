node test() returns(y: int^3);
let
  check (y[2] = 2);

y[i] = (if oscillate()
       then
          (if (i = 0) then 0 else (y[(i - 1)] + 1))
       else
          ((if (i = 0) then 0 else (y[(i - 1)] + 1)) -> (pre y[i]))
      );
tel;

node oscillate() returns (Z: bool)
let
   Z = true -> not pre Z;
tel;